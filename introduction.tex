С развитием индустрии разработки программного обеспечения все более и более
остро стоит вопрос поддержки уже существующих продуктов и сервисов, которые
были написаны очень давно, написаны на морально устаревших на настоящий момент
языках, но одновременно слишком сложных для воссоздания и недостаточно
проблемных для переписывания с использованием более современных технологий.
Одной из проблем такого программного обеспечения нередко является то, что
оно в процессе активной разработки и добавления функционала не учитывалась
важность тестирования продукта для обеспечения гарантии сохранения корректности
работы ПО при его модификации. При этом в силу того, что ПО уже находится на
этапе поддержки, выделение ресурсов на внедрение тестирования часто считается
нецелесообразным.

Все эти причины приводят к тому, что практически невозможно вносить серьезные
изменения во внутреннюю работу системы с уверенностью в том, что внешнее ее
поведение не изменится. В таких случаях появляется необходимость либо
тестировать функционал вручную, либо же ожидать сообщений об ошибке от
пользователей, что означает, что продукт с ошибками в нем должен быть введен
в использование. Очевидно, что оба этих варианта могут быть использованы в случае,
когда сервис используется малым числом человек, или цена ошибки низка, но для
ключевых сервисов такой подход не является приемлемым.

Альтернативой является автоматическая генерация тестов. Одна из распространенных
методик --- нахождение инвариантов в коде программного обеспечения в процессе
его работы, и отслеживание их нарушений. Этот подход называется обнаружением
аномалий, и подходит не только для обнаружения ошибок разработки, но и для
выявления атак и злонамеренного доступа в систему. При этом заметной проблемой
данного подхода является сложность балансирования между высоким количеством
ложноположительных срабатываний и невыявлением проблемы. Как пример, некий
сценарий может происходить достаточно редко, и любой случай будет рассмотрен
как отклонение от нормального поведения в силу редкости. Еще одной проблемой
является то, что для эффективной работы данный подход требует строгого подхода
к разработке продукта, разделение кода на модули и минимизация площади их
взаимодействия, чтобы проверять требовалось как можно более ограниченный набор
функций.

В случае, если язык программирования и особенности разработки продукта не
позволяют использовать описанный выше подход, удобнее рассматривать систему как
черный ящик, и отслеживать исключительно ее взаимодействие со внешними
ресурсами. Под внешними ресурсами подразумеваются не только пользовательские
запросы, но и все внутренние сервисы и базы данных, кроме тестируемого продукта.
Рассмотрение системы в таком ключе особенно удобно, если она разрабатывалась
не по принципу монолитной разработки, а с использованием сервисной архитектуры.
В таком случае изолированных компонентов становится больше, и можно тестировать
каждый из них в отдельности.

В данной работе исследуется описанный выше подход. В процессе ее написания
был сделан программный продукт GoClown, который имитирует для продукта внешние
ресурсы с помощью записи предыдущих взаимодействий по сети. Основной целью
исследования была проверка переноса сложных информационных систем, написанных
на языке программирования Perl из виртуальных машин в среду Docker.

Также, особенностью данных систем в компании Acronis является их завязанность
на общую базу данных, содержащую большое количество данных, что сильно
затрудняет повторение окружения в целях тестирования, так как требуется
реплицированная база данных, а также очень сложная схема их хранения в таблицах.
